@import 'grid.less';

@columns: 12;
@light_gray: #eee;
@medium_gray: #939597;

@green: #C1DFA6;
@red: #E09BA2;
@yellow: #F1E190;
@blue: #ABCDE9;

@green-light: #F0F7EA;
@red-light: #F6E7E6;
@yellow-light: #FBF6E4;
@blue-light: #DEE9F7;

@green-text: #5C7048;
@red-text: #7B3018;
@yellow-text: #7E5220;
@blue-text: #286595;

.resource {
    .controls{
        &.vote_null {
            .fa-thumbs-up, .fa-thumbs-down, .fa-trash-o {display: none;}
        }
        &.vote_true {
            .fa-thumbs-o-up, .fa-thumbs-down {display: none;}
        }
        &.vote_false {
            .fa-thumbs-up, .fa-thumbs-o-down {display: none;}
        }
    }
}
.test {
    
    h2{display: none;}
    table{
    margin-top: 2em;
        &#response_codes{
            
        }
       tr{float: left;} 
    }

}
.grid {
    
    .row(12);
    width: 640; 
    margin-left: auto; margin-right: auto;
    .home_description {
        .column(12);
    }
    #bar_chart, #heatmap_focus{
        
        
        
        table{ 
            .row(12);
            
            td {
                .column(2);
                &.controls{
                    text-align: center;
                    .column(1);
                }
            }
            .votes {
                .column(6);
            }
        }
    }
    
    .heatmap_wrapper {
        margin-top: 2em;
        .column(12); 
        #heatmap{
            
            height: 288px;
            .resource {
                cursor: pointer;
                span {
                    display: none;
                }
                float: left;
                width: 31px; height: 31px;
                border: 2px solid #fff;
                border-radius: 18px;
                
                transition : border 200ms ease-out; 
                  -webkit-transition : border 200ms ease-out; 
                  -moz-transition : border 200ms ease-out;
                  -o-transition : border 200ms ease-out;
                &:hover {
                    border-color: #aaa;
                }
            }
        }
    
    }
    
}


.vis {
    margin: 0; padding: 0;
    .title_bar {
        background: #465639 url('../images/map_header.jpg') no-repeat;
        padding: 1em 0;
        .row(12);
        .logo {
            .column(10);
            img {
                width: 90%;
                max-width: 327px;
            }
        }
        a {
            text-decoration: none;
            text-align: right;
            .column(2);
            .fa {
                font-size: 2.7em; 
                color: white;
                padding: .2em .4em 0 0;
                text-shadow: 0px -1px 0px hsla(0,0,0,.5);
            }
        }
        }
    
    font-size: .8em;
    #resources {
        background-color: #ddd;
        
        .row(12);
        
        

            .resource {
                .column(6);
                margin-bottom: .5em;
                .content{ 
                    border: 1px solid #bbb;
                    padding: .3em 0 .3em .8em;
                    margin: .5em .5em 0 .5em;
                    height: 38px;
                    .name {
                        color: @yellow-text;
                        margin: 0;
                        text-shadow: 0px 1px 0px hsla(0,0,100,.5);
                    }
                    .stats {
                        font-size: .8em;
                        font-weight: 200;
                        color: #666;
                    }
                }
                &.header {.name {color: @green-text;} }
                &.verb {.name {color: @blue-text;} }
                &.code {
                    .name {
                        font-size: 2em;
                        float: left;
                        margin-right: .5em;
                    }
    
                }
                &.title {
                        
                        h3 {
                            text-transform: uppercase;
                            color: #fff;
                            margin: 0;
                            padding: 0;
                            font-size: 2em;
                            text-shadow: 0px -1px 0px hsla(0,0,0,.5);
                        }
                        
                    }
            }
           
        
    }
}

#footer {
    margin-top: 1em;
    padding-top: 1em;
    padding-bottom: 10em;
}
.ui-tooltip, .arrow:after {
    background: black;
    border: 2px solid white;
  }
  .ui-tooltip {
    padding: 10px 20px;
    color: white;
    border-radius: 20px;
    font: bold 14px;
    text-transform: uppercase;
    box-shadow: 0 0 7px black;
  }
  .arrow {
    width: 70px;
    height: 16px;
    overflow: hidden;
    position: absolute;
    left: 50%;
    margin-left: -35px;
    bottom: -16px;
    &.top {
        top: -16px;
        bottom: auto;
        &:after {
            bottom: -20px;
            top: auto;
          }
      }
    &.left {
        left: 20%;
      }
    &:after {
        content: "";
        position: absolute;
        left: 20px;
        top: -20px;
        width: 25px;
        height: 25px;
        box-shadow: 6px 5px 9px -9px black;
        -webkit-transform: rotate(45deg);
        -moz-transform: rotate(45deg);
        -ms-transform: rotate(45deg);
        -o-transform: rotate(45deg);
        tranform: rotate(45deg);
      }
  }



@bar_color: #ddd;
@bar_bg: #fff;

@iterations: 100;
.loopingClass (@index, @bg) when (@index > 50)  {
	@hue: 360 * (@index /100);
    @h: (1 - ((@index - 50) * .02)) * 60;
	.bar_@{index}  {		
		background-image: linear-gradient(90deg, hsl(@h, 100%, 50%) ~"@{index}%", @bg ~"@{index}%");
        //background-image: -webkit-gradient(linear, left bottom, right bottom, color-stop(@index/100, hsla(@hue, 70%, 70%, 1)), color-stop(@index/100, @bg));
       
	}
    .greenbar_@{index} { background-image: linear-gradient(90deg, @green ~"@{index}%", @green-light ~"@{index}%"); }
    .redbar_@{index} { background-image: linear-gradient(90deg, @red ~"@{index}%", @red-light ~"@{index}%"); }
    .yellowbar_@{index} { background-image: linear-gradient(90deg, @yellow ~"@{index}%", @yellow-light ~"@{index}%"); }
    .bluebar_@{index} { background-image: linear-gradient(90deg, @blue ~"@{index}%", @blue-light ~"@{index}%"); }
    
    .heat_@{index}{
        
        background-color: hsl(@h, 100%, 50%);
    }
	.loopingClass(@index - 1, @bg);
}

.loopingClass (@index, @bg) when (@index < 51) and (@index > -1){
    @hue: 360 * (@index /100);
    @l: 100% - @index;
    .bar_@{index}  {        
        background-image: linear-gradient(90deg, hsl(60, 100%, @l) ~"@{index}%", @bg ~"@{index}%");
        //background-image: -webkit-gradient(linear, left bottom, right bottom, color-stop(@index/100, hsla(@hue, 70%, 70%, 1)), color-stop(@index/100, @bg));
       
    }
    .greenbar_@{index} { background-image: linear-gradient(90deg, @green ~"@{index}%", @green-light ~"@{index}%"); }
    .redbar_@{index} { background-image: linear-gradient(90deg, @red ~"@{index}%", @red-light ~"@{index}%"); }
    .yellowbar_@{index} { background-image: linear-gradient(90deg, @yellow ~"@{index}%", @yellow-light ~"@{index}%"); }
    .bluebar_@{index} { background-image: linear-gradient(90deg, @blue ~"@{index}%", @blue-light ~"@{index}%"); }
    
    .heat_@{index}{
        
        background-color: hsl(60, 100%, @l);
    }
    .loopingClass(@index - 1, @bg);
}

.loopingClass (-1) {}
.loopingClass (@iterations, @bar_bg);


